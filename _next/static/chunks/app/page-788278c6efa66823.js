(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1693:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var a=s(5155),r=s(8437),n=s(7168),l=s(8313),i=s(5487),o=s(2115),c=s(6874),d=s.n(c);let x=e=>{let{size:t=24,className:s=""}=e;return(0,a.jsxs)("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},m=e=>{let{size:t=32,className:s=""}=e;return(0,a.jsxs)("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1"}),(0,a.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"13"}),(0,a.jsx)("line",{x1:"9",y1:"10",x2:"15",y2:"10"})]})},u=()=>(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h=e=>{let{isOpen:t,onClose:s,onSubmit:r}=e,[l,i]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),[h,g]=(0,o.useState)(null),[f,p]=(0,o.useState)(!1),b=(0,o.useRef)(null);if((0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),(0,o.useEffect)(()=>{if(t){var e;null==(e=b.current)||e.focus(),i(""),d(!1),g(null),p(!1)}},[t]),!t)return null;let y=async e=>{if(e.preventDefault(),!l.trim())return void g("Feedback cannot be empty.");d(!0),g(null);try{await r(l),p(!0),setTimeout(()=>{s()},2e3)}catch(e){g("Failed to submit feedback. Please try again."),console.error(e)}finally{d(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",children:(0,a.jsxs)("div",{ref:b,tabIndex:-1,className:"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4 p-8 relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close dialog",children:(0,a.jsx)(x,{size:24})}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:(0,a.jsx)(m,{className:"text-green-600",size:32})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Got a suggestion?"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"We'd love to hear your ideas for new features or improvements."})]}),f?(0,a.jsx)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsx)("p",{className:"font-semibold text-green-700",children:"Thank you! Your feedback has been submitted."})}):(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"feedback-content",className:"sr-only",children:"Your suggestion"}),(0,a.jsx)("textarea",{id:"feedback-content",value:l,onChange:e=>i(e.target.value),placeholder:"Type your suggestion here...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),h&&(0,a.jsx)("p",{className:"text-red-600 text-sm text-center",children:h}),(0,a.jsxs)(n.$,{type:"submit",disabled:c,className:"w-full rounded-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold text-base disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center transition-colors",children:[c&&(0,a.jsx)(u,{}),c?"Submitting...":"Submit Feedback"]})]})]})})},g=()=>{let[e,t]=(0,o.useState)(!1),s=async e=>{console.log("Submitting feedback:",e),await new Promise(e=>setTimeout(e,1e3))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n        @keyframes gentle-wrench-turn {\n          0%, 100% { transform: rotate(-8deg); }\n          50% { transform: rotate(8deg); }\n        }\n        .animate-wrench {\n          animation: gentle-wrench-turn 3s ease-in-out infinite;\n        }\n\n        @keyframes progress-bar-shine {\n          0% { transform: translateX(-100%) skewX(-30deg); }\n          100% { transform: translateX(350%) skewX(-30deg); }\n        }\n        .progress-shine::after {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 33%;\n          height: 100%;\n          background: rgba(255, 255, 255, 0.4);\n          animation: progress-bar-shine 2.5s infinite linear;\n        }\n      "}),(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center p-4 font-sans overflow-hidden",children:[(0,a.jsxs)("div",{className:"max-w-md w-full bg-white p-8 sm:p-10 rounded-2xl shadow-xl border border-gray-200",children:[(0,a.jsx)("div",{className:"mx-auto bg-green-100 p-4 rounded-full w-20 h-20 flex items-center justify-center mb-6 animate-wrench",children:(0,a.jsx)(l.A,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Under Maintenance"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:"We'll be back up soon!"}),(0,a.jsx)("p",{className:"text-md text-gray-500 mb-8",children:"We're just polishing things up to make your experience even better."}),(0,a.jsx)("div",{className:"w-full bg-green-200 rounded-full h-4 mb-8 overflow-hidden relative",children:(0,a.jsx)("div",{className:"bg-green-500 h-4 rounded-full w-3/4 progress-shine"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>t(!0),className:"w-full px-8 py-3 bg-green-600 text-white font-semibold rounded-full hover:bg-green-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Leave Feedback"}),(0,a.jsx)(d(),{href:"/status",className:"w-full",children:(0,a.jsxs)(n.$,{variant:"ghost",className:"w-full text-gray-500 hover:text-green-600",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Check Service Status"]})})]})]}),(0,a.jsx)("p",{className:"mt-8 text-sm text-gray-400",children:"Patience is a virtue, and so is great software!"})]}),(0,a.jsx)(h,{isOpen:e,onClose:()=>t(!1),onSubmit:s})]})};var f=s(5791);let p=()=>{let[e,t]=(0,o.useState)(!1),[s,a]=(0,o.useState)(!0),[r,n]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(f.Y,"/maintenance"));if(503===e.status)t(!0);else if(e.ok){let s=await e.json();"MAINTENANCE"===s.state?t(!0):t(!1)}else throw Error("Failed to fetch status: ".concat(e.statusText))}catch(s){console.error("Failed to check maintenance status:",s);let e=s instanceof Error?s.message:"An unknown error occurred.";n("Could not connect to the service. Please try again later. (".concat(e,")")),t(!0)}finally{a(!1)}})()},[]),{isMaintenanceMode:e,isLoading:s,error:r}};function b(){return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none -z-5",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-24 h-24 bg-gradient-to-r from-green-100 to-green-50 rounded-full opacity-50 animate-float mix-blend-multiply"}),(0,a.jsx)("div",{className:"absolute top-1/3 right-32 w-48 h-48 bg-green-100 rounded-full opacity-20 animate-blob animation-delay-2000"}),(0,a.jsx)("div",{className:"absolute top-2/3 left-16 w-16 h-16 bg-green-50 rotate-45 opacity-30 animate-float animation-delay-3000"}),(0,a.jsx)("div",{className:"absolute bottom-32 right-1/4",children:(0,a.jsx)("div",{className:"w-32 h-32 border-4 border-green-100 rounded-full animate-pulse opacity-30"})}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,a.jsx)("div",{className:"h-full w-full bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"})}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-1/3 h-full animate-line",children:(0,a.jsx)("div",{className:"w-px h-full bg-gradient-to-b from-transparent via-green-100 to-transparent"})})]})}var y=s(9852),j=s(4416),v=s(7580),w=s(5736),N=s(2099),k=s(7859),C=s(760),S=s(3667);let E=()=>(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A=e=>{let{isOpen:t,onClose:s,onSubmit:r}=e,[l,i]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),[x,m]=(0,o.useState)(null),[u,h]=(0,o.useState)(!1),g=(0,o.useRef)(null);if((0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),(0,o.useEffect)(()=>{if(t){var e;null==(e=g.current)||e.focus(),i(""),d(!1),m(null),h(!1)}},[t]),!t)return null;let f=async e=>{if(e.preventDefault(),!l.trim())return void m("Feedback cannot be empty.");d(!0),m(null);try{await r(l),h(!0),setTimeout(()=>{s()},2e3)}catch(e){m("Failed to submit feedback. Please try again."),console.error(e)}finally{d(!1)}};return(0,a.jsx)(C.N,{children:t&&(0,a.jsx)(k.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",children:(0,a.jsxs)(k.P.div,{ref:g,tabIndex:-1,initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4 p-8 relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close dialog",children:(0,a.jsx)(j.A,{size:24})}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:(0,a.jsx)(w.A,{className:"text-green-600",size:32})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Got a suggestion?"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"We'd love to hear your ideas for new features or improvements."})]}),u?(0,a.jsx)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsx)("p",{className:"font-semibold text-green-700",children:"Thank you! Your feedback has been submitted."})}):(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"feedback-content",className:"sr-only",children:"Your suggestion"}),(0,a.jsx)("textarea",{id:"feedback-content",value:l,onChange:e=>i(e.target.value),placeholder:"Type your suggestion here...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),x&&(0,a.jsx)("p",{className:"text-red-600 text-sm text-center",children:x}),(0,a.jsxs)(n.$,{type:"submit",disabled:c,className:"w-full rounded-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold text-base disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center",children:[c&&(0,a.jsx)(E,{}),c?"Submitting...":"Submit Feedback"]})]})]})})})},F=e=>{let{text:t,onRemove:s}=e;return(0,a.jsxs)("div",{className:"tag inline-flex items-center bg-green-600 text-white py-1 px-3 rounded-full m-1 font-medium text-sm transition-all duration-200",children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("button",{onClick:()=>s(t),className:"ml-2 bg-black/10 hover:bg-black/30 rounded-full w-5 h-5 flex items-center justify-center transition-colors","aria-label":"Remove ".concat(t),children:(0,a.jsx)(j.A,{size:14})})]})};function P(e){let{interests:t,onInterestsChange:s,onFindMatch:r,isConnecting:l,status:i}=e,[c,x]=(0,o.useState)(""),[m,u]=(0,o.useState)([]),[h,g]=(0,o.useState)(!0),[p,b]=(0,o.useState)(null),[j,P]=(0,o.useState)(!1),_=f.Y,L={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};(0,o.useEffect)(()=>{(async()=>{g(!0);try{let e=await fetch("".concat(_,"/interests/popular"));if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=await e.json();u(t)}catch(e){console.error("Failed to fetch popular interests:",e),b("Could not load topics.")}finally{g(!1)}})()},[]);let z=e=>{let a=e.trim().toUpperCase();a&&!t.has(a)&&s(new Set(t).add(a)),x("")},T=e=>{let a=new Set(t);a.delete(e),s(a)},$=async e=>{let{error:t}=await N.N.from("suggestions").insert([{content:e}]);if(t)throw console.error("Error submitting feedback to Supabase:",t),t};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-[350px] max-w-full mx-auto",children:[(0,a.jsx)(S.U,{children:(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 pb-4",children:(0,a.jsx)(C.N,{children:Array.from(t).map(e=>(0,a.jsx)(k.P.div,{layout:!0,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.12}},transition:{type:"spring",stiffness:500,damping:30},children:(0,a.jsx)(F,{text:e,onRemove:T})},e))})})}),(0,a.jsx)(y.p,{id:"interest-input",type:"text",value:c,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),z(c))},className:"rounded-full py-6 px-6 focus-visible:border-green-500 focus-visible:ring-green-500 ring-offset-1 text-center",placeholder:"Match randomly or add an interest",maxLength:26})]}),(0,a.jsxs)("div",{className:"mt-8 text-center",children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-4",children:"Popular Topics"}),(0,a.jsx)(S.U,{children:(0,a.jsx)(k.P.div,{className:"flex flex-wrap justify-center gap-2 max-w-md mx-auto",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delay:.3,staggerChildren:.07,delayChildren:.2}}},initial:"hidden",animate:"visible",children:h?(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Loading topics..."}):p?(0,a.jsx)("p",{className:"text-sm text-red-500",children:p}):0===m.length?(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"No active topics."}):m.map(e=>{let{interest:t,count:s}=e;return(0,a.jsxs)(k.P.button,{variants:L,onClick:()=>z(t),className:"bg-green-100 text-green-800 text-xs font-semibold px-3 py-1.5 rounded-full hover:bg-green-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{className:"bg-green-200 text-green-900 text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-2",children:s})]},t)})})})]}),(0,a.jsxs)("div",{className:"mt-8 w-[350px] max-w-full mx-auto",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(d(),{href:"/chat-rooms",passHref:!0,children:(0,a.jsxs)(n.$,{variant:"ghost",className:"w-full rounded-full py-6 text-base flex items-center justify-center",children:[(0,a.jsx)(v.A,{size:20,className:"mr-2"}),"Chat Rooms"]})})}),(0,a.jsx)(n.$,{onClick:()=>{let e=new Set(t);c.trim()&&!e.has(c.trim().toUpperCase())&&s(e=new Set(e).add(c.trim().toUpperCase())),r(e)},disabled:l,className:"w-full rounded-full py-6 bg-green-600 hover:bg-green-700 text-white font-bold text-base disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E,{}),i]}):"Find Match"})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)(n.$,{variant:"secondary",className:"text-gray-500 hover:text-green-600 transition-colors",onClick:()=>P(!0),children:[(0,a.jsx)(w.A,{size:16,className:"mr-2"}),"We'd love to hear your feedback"]})}),(0,a.jsx)(A,{isOpen:j,onClose:()=>P(!1),onSubmit:$})]})}var _=s(662),L=s(5525),z=s(7596),T=s(9597);function $(){let{user:e,session:t,login:s,logout:l,isLoading:c}=(0,r.A)(),{chatSessionData:x,chatSessionStatus:m}=function(e){let[t,s]=(0,o.useState)("loading"),[a,r]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!e||!e.id)return;let t=async()=>{let t="".concat(f.Y,"/session/").concat(e.id);try{let e=await fetch(t);if(!e.ok)return void s("no_session");let{chatId:a,serverUrl:n,participants:l}=await e.json();if(!a||!n){console.log("No existing session found."),s("no_session");return}r({chatId:a,chatServerUrl:n}),s("existing_session")}catch(e){console.error("Error fetching existing session:",e),s("no_session")}};s("loading"),t()},[e]),{chatSessionStatus:t,chatSessionData:a}}(e),{session:u,chat:h,matchmaking:g}=(0,z.c)(),{screen:p,status:y,setScreen:j}=u,{connectToChat:v,connectToExistingSession:w,messages:N,participants:S,typingUsers:E,sendMessage:A,editMessage:F,onDeleteMessage:$,onReact:U,onChangeTheme:Y,onStartTyping:O,disconnect:W}=h,{startMatchmaking:I,onCancelMatchmaking:M}=g,[D,H]=(0,o.useState)(!1),[R,B]=(0,o.useState)(""),[X,G]=(0,o.useState)(""),[V,q]=(0,o.useState)(new Set);(0,o.useEffect)(()=>{"existing_session"===m&&x&&w(x)},[m,x]);let K=e=>{I(Array.from(e))};function J(){j("matchmaking")}let Q={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.23,ease:"easeInOut"}};return(0,a.jsxs)("div",{className:"h-full overflow-y-auto overflow-x-hidden relative",children:[(0,a.jsxs)("main",{className:"container h-full mx-auto flex flex-col ".concat("chat"===p?"p-0":"px-4 py-8 md:py-16"),children:["chat"!==p&&(0,a.jsx)(b,{}),(0,a.jsx)("div",{className:"flex-grow flex flex-col justify-center items-center",children:(0,a.jsx)(C.N,{mode:"wait",children:(()=>{switch(p){case"chat":return(0,a.jsx)(k.P.div,{...Q,className:"h-full w-full flex items-center justify-center sm:p-4",children:(0,a.jsx)(T.wy,{children:(0,a.jsx)(_.A,{groupChat:!1,name:"",onBack:()=>{j("matchmaking")},newChat:()=>{I(Array.from(V))}})})},"chat");case"matchmaking":return(0,a.jsxs)(k.P.div,{...Q,className:"w-full h-full flex flex-col justify-center items-center",children:[(0,a.jsx)("div",{className:"max-w-3xl mx-auto relative w-full",children:(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",children:"Choose Your Interests"}),(0,a.jsx)("p",{className:"text-gray-600 text-lg my-8",children:"Find someone to chat with based on what you like."})]})}),(0,a.jsx)(P,{interests:V,onInterestsChange:q,onFindMatch:K,isConnecting:"finding_match"===y||"connecting"===y||c,status:y})]},"matchmaking");default:return(0,a.jsxs)(k.P.div,{...Q,className:"w-full h-full flex flex-col justify-center items-center",children:[(0,a.jsx)("div",{className:"max-w-3xl mx-auto relative w-full",children:(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("h2",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",children:["Real-time",(0,a.jsx)("br",{}),"Anonymous Chat"]}),(0,a.jsx)("p",{className:"text-gray-600 text-lg my-8",children:"Connect with students anonymously and securely."})]})}),(0,a.jsx)("div",{className:"max-w-md mx-auto text-sm space-y-6 text-center",children:(0,a.jsx)("div",{className:"text-yellow-700 bg-yellow-50 p-4 rounded-2xl border border-yellow-200 font-medium",children:(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Notice:"})," This site will soon move to a new domain:"," ",(0,a.jsx)("a",{href:"https://chat.tyronscott.me",target:"_blank",rel:"noopener noreferrer",className:"underline text-green-700 font-semibold",children:"chat.tyronscott.me"}),". Please update your bookmarks!"]})})}),(0,a.jsx)("div",{className:"text-center mt-12",children:(0,a.jsx)(n.$,{onClick:J,size:"lg",className:"rounded-full py-7 px-8 bg-green-600 hover:bg-green-700 text-white font-bold text-lg",children:"Get Started"})})]},"intro")}})()})}),"chat"!==p&&(0,a.jsxs)("footer",{className:"text-xs text-gray-500 text-center py-4 shrink-0",children:[(0,a.jsxs)("h3",{className:"py-4",children:["Created by developers from"," ",(0,a.jsx)("span",{className:"text-green-700 font-semibold",children:"De La Salle Lipa"})]}),(null==e?void 0:e.id)&&(0,a.jsxs)("p",{className:"font-mono text-gray-400 text-[10px] mt-2",children:["Your User ID: ",e.id]}),(null==e?void 0:e.role)&&(0,a.jsxs)("p",{className:"font-mono text-gray-400 text-[10px] mt-2",children:["Your Role:"," ",e.role.charAt(0).toUpperCase()+e.role.slice(1)]}),(null==e?void 0:e.role)==="admin"&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(n.$,{variant:"ghost",className:"text-xs text-gray-500 hover:bg-gray-100 hover:text-gray-700",onClick:()=>l(),children:"Log Out"})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(d(),{href:"/status",passHref:!0,children:(0,a.jsxs)(n.$,{variant:"ghost",className:"text-xs text-gray-500 hover:bg-gray-100 hover:text-gray-700",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Service Status"]})})})]})]}),"chat"!==p&&(0,a.jsx)("div",{className:"absolute bottom-2 right-2 h-6 w-6 cursor-pointer",onClick:()=>H(!0),title:"Admin Login"}),(0,a.jsx)(C.N,{children:D&&(0,a.jsx)(k.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>H(!1),children:(0,a.jsxs)(k.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{duration:.2,ease:"easeOut"},className:"bg-white rounded-2xl p-8 shadow-2xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:(0,a.jsx)(L.A,{className:"h-8 w-8 text-green-700"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Administrator Access"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"Please enter your credentials to continue."})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(R,X),H(!1),B(""),G("")},children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"admin-username",className:"text-sm font-medium text-gray-700",children:"Username"}),(0,a.jsx)("input",{id:"admin-username",type:"text",value:R,onChange:e=>B(e.target.value),className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",placeholder:"Enter username"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"admin-password",className:"text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)("input",{id:"admin-password",type:"password",value:X,onChange:e=>G(e.target.value),className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition",placeholder:"Enter password"})]})]}),(0,a.jsxs)("div",{className:"mt-8 flex justify-end space-x-3",children:[(0,a.jsx)(n.$,{type:"button",variant:"ghost",onClick:()=>H(!1),className:"px-6 py-2",children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2",children:"Login"})]})]})]})})})]})}s(6251);var U=s(7863);function Y(){let{user:e,session:t,isLoading:s}=(0,r.A)();return s?(0,a.jsx)(a.Fragment,{children:"Loading"}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(U.y,{user:e,children:(0,a.jsx)($,{})})})}function O(){let{isMaintenanceMode:e,isLoading:t,error:s}=p();return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"Checking service status..."})}):e?(0,a.jsx)(g,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.O,{children:(0,a.jsx)(Y,{})})})}},6379:(e,t,s)=>{Promise.resolve().then(s.bind(s,1693))}},e=>{var t=t=>e(e.s=t);e.O(0,[386,889,23,610,441,684,358],()=>t(6379)),_N_E=e.O()}]);