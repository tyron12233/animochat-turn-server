(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6379:(e,t,s)=>{Promise.resolve().then(s.bind(s,6629))},6629:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var a=s(5155);function n(){return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none -z-5",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-24 h-24 bg-gradient-to-r from-green-100 to-green-50 rounded-full opacity-50 animate-float mix-blend-multiply"}),(0,a.jsx)("div",{className:"absolute top-1/3 right-32 w-48 h-48 bg-green-100 rounded-full opacity-20 animate-blob animation-delay-2000"}),(0,a.jsx)("div",{className:"absolute top-2/3 left-16 w-16 h-16 bg-green-50 rotate-45 opacity-30 animate-float animation-delay-3000"}),(0,a.jsx)("div",{className:"absolute bottom-32 right-1/4",children:(0,a.jsx)("div",{className:"w-32 h-32 border-4 border-green-100 rounded-full animate-pulse opacity-30"})}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,a.jsx)("div",{className:"h-full w-full bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"})}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-1/3 h-full animate-line",children:(0,a.jsx)("div",{className:"w-px h-full bg-gradient-to-b from-transparent via-green-100 to-transparent"})})]})}var r=s(2115),l=s(9852),i=s(7168),o=s(4416),c=s(7580),d=s(5736),x=s(2099),u=s(7859),m=s(760),h=s(3667);let g=()=>(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f=e=>{let{isOpen:t,onClose:s,onSubmit:n}=e,[l,c]=(0,r.useState)(""),[x,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[b,y]=(0,r.useState)(!1),j=(0,r.useRef)(null);if((0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),(0,r.useEffect)(()=>{if(t){var e;null==(e=j.current)||e.focus(),c(""),h(!1),p(null),y(!1)}},[t]),!t)return null;let v=async e=>{if(e.preventDefault(),!l.trim())return void p("Feedback cannot be empty.");h(!0),p(null);try{await n(l),y(!0),setTimeout(()=>{s()},2e3)}catch(e){p("Failed to submit feedback. Please try again."),console.error(e)}finally{h(!1)}};return(0,a.jsx)(m.N,{children:t&&(0,a.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",children:(0,a.jsxs)(u.P.div,{ref:j,tabIndex:-1,initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4 p-8 relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close dialog",children:(0,a.jsx)(o.A,{size:24})}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:(0,a.jsx)(d.A,{className:"text-green-600",size:32})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Got a suggestion?"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"We'd love to hear your ideas for new features or improvements."})]}),b?(0,a.jsx)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsx)("p",{className:"font-semibold text-green-700",children:"Thank you! Your feedback has been submitted."})}):(0,a.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"feedback-content",className:"sr-only",children:"Your suggestion"}),(0,a.jsx)("textarea",{id:"feedback-content",value:l,onChange:e=>c(e.target.value),placeholder:"Type your suggestion here...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),f&&(0,a.jsx)("p",{className:"text-red-600 text-sm text-center",children:f}),(0,a.jsxs)(i.$,{type:"submit",disabled:x,className:"w-full rounded-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold text-base disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center",children:[x&&(0,a.jsx)(g,{}),x?"Submitting...":"Submit Feedback"]})]})]})})})};var p=s(6874),b=s.n(p),y=s(5791);let j=e=>{let{text:t,onRemove:s}=e;return(0,a.jsxs)("div",{className:"tag inline-flex items-center bg-green-600 text-white py-1 px-3 rounded-full m-1 font-medium text-sm transition-all duration-200",children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("button",{onClick:()=>s(t),className:"ml-2 bg-black/10 hover:bg-black/30 rounded-full w-5 h-5 flex items-center justify-center transition-colors","aria-label":"Remove ".concat(t),children:(0,a.jsx)(o.A,{size:14})})]})};function v(e){let{interests:t,onInterestsChange:s,onFindMatch:n,isConnecting:o,status:p}=e,[v,w]=(0,r.useState)(""),[N,k]=(0,r.useState)([]),[C,S]=(0,r.useState)(!0),[E,F]=(0,r.useState)(null),[A,_]=(0,r.useState)(!1),z=y.Y,P={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};(0,r.useEffect)(()=>{(async()=>{S(!0);try{let e=await fetch("".concat(z,"/interests/popular"));if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=await e.json();k(t)}catch(e){console.error("Failed to fetch popular interests:",e),F("Could not load topics.")}finally{S(!1)}})()},[]);let T=e=>{let a=e.trim().toUpperCase();a&&!t.has(a)&&s(new Set(t).add(a)),w("")},L=e=>{let a=new Set(t);a.delete(e),s(a)},M=async e=>{let{error:t}=await x.N.from("suggestions").insert([{content:e}]);if(t)throw console.error("Error submitting feedback to Supabase:",t),t};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-[350px] max-w-full mx-auto",children:[(0,a.jsx)(h.U,{children:(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2 pb-4",children:(0,a.jsx)(m.N,{children:Array.from(t).map(e=>(0,a.jsx)(u.P.div,{layout:!0,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.12}},transition:{type:"spring",stiffness:500,damping:30},children:(0,a.jsx)(j,{text:e,onRemove:L})},e))})})}),(0,a.jsx)(l.p,{id:"interest-input",type:"text",value:v,onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),T(v))},className:"rounded-full py-6 px-6 focus-visible:border-green-500 focus-visible:ring-green-500 ring-offset-1 text-center",placeholder:"Match randomly or add an interest",maxLength:26})]}),(0,a.jsxs)("div",{className:"mt-8 text-center",children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-4",children:"Popular Topics"}),(0,a.jsx)(h.U,{children:(0,a.jsx)(u.P.div,{className:"flex flex-wrap justify-center gap-2 max-w-md mx-auto",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delay:.3,staggerChildren:.07,delayChildren:.2}}},initial:"hidden",animate:"visible",children:C?(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Loading topics..."}):E?(0,a.jsx)("p",{className:"text-sm text-red-500",children:E}):0===N.length?(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"No active topics."}):N.map(e=>{let{interest:t,count:s}=e;return(0,a.jsxs)(u.P.button,{variants:P,onClick:()=>T(t),className:"bg-green-100 text-green-800 text-xs font-semibold px-3 py-1.5 rounded-full hover:bg-green-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{className:"bg-green-200 text-green-900 text-[10px] font-bold px-1.5 py-0.5 rounded-full ml-2",children:s})]},t)})})})]}),(0,a.jsxs)("div",{className:"mt-12 w-[350px] max-w-full mx-auto",children:[(0,a.jsx)(i.$,{onClick:()=>{let e=new Set(t);v.trim()&&!e.has(v.trim().toUpperCase())&&s(e=new Set(e).add(v.trim().toUpperCase())),n(e)},disabled:o,className:"w-full rounded-full py-6 bg-green-600 hover:bg-green-700 text-white font-bold text-base disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{}),p]}):"Find Match"}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(b(),{href:"/chat-rooms",passHref:!0,children:(0,a.jsxs)(i.$,{variant:"outline",className:"w-full rounded-full py-6 text-base flex items-center justify-center",children:[(0,a.jsx)(c.A,{size:20,className:"mr-2"}),"Experimental Chat Rooms"]})})})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)(i.$,{variant:"secondary",className:"text-gray-500 hover:text-green-600 transition-colors",onClick:()=>_(!0),children:[(0,a.jsx)(d.A,{size:16,className:"mr-2"}),"We'd love to hear your feedback"]})}),(0,a.jsx)(f,{isOpen:A,onClose:()=>_(!1),onSubmit:M})]})}var w=s(6930),N=s(165),k=s(5487);function C(e){let{userId:t,chatSessionData:s,chatSessionStatus:l}=e,{screen:o,status:c,messages:d,startMatchmaking:x,onChangeTheme:h,disconnect:g,editMessage:f,sendMessage:p,onReact:y,participants:j,onDeleteMessage:C,onCancelMatchmaking:S,onStartTyping:E,handleGetStarted:F,connectToExistingSession:A,typingUsers:_}=(0,N.m)(t);(0,r.useEffect)(()=>{"existing_session"===l&&s&&A(s)},[l]);let[z,P]=(0,r.useState)(new Set),T=e=>{x(Array.from(e))},L={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.23,ease:"easeInOut"}};return(0,a.jsx)("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:(0,a.jsxs)("main",{className:"container h-full mx-auto flex flex-col ".concat("chat"===o?"p-0":"px-4 py-8 md:py-16"),children:["chat"!==o&&(0,a.jsx)(n,{}),(0,a.jsx)("div",{className:"flex-grow flex flex-col justify-center items-center",children:(0,a.jsx)(m.N,{mode:"wait",children:(()=>{switch(o){case"chat":return(0,a.jsx)(u.P.div,{...L,className:"h-full w-full flex items-center justify-center sm:p-4",children:(0,a.jsx)(w.A,{participants:j,groupChat:!1,name:"",goBack:()=>{F()},onDeleteMessage:C,onEditMessage:f,onStartTyping:E,cancelMatchmaking:S,typingUsers:_,onReact:y,onChangeTheme:h,messages:d,sendMessage:p,newChat:()=>{T(z)},endChat:g,userId:t,status:c},"chat")},"chat");case"matchmaking":return(0,a.jsxs)(u.P.div,{...L,className:"w-full h-full flex flex-col justify-center items-center",children:[(0,a.jsx)("div",{className:"max-w-3xl mx-auto relative w-full",children:(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",children:"Choose Your Interests"}),(0,a.jsx)("p",{className:"text-gray-600 text-lg my-8",children:"Find someone to chat with based on what you like."})]})}),(0,a.jsx)(v,{interests:z,onInterestsChange:P,onFindMatch:T,isConnecting:!1,status:c})]},"matchmaking");default:return(0,a.jsxs)(u.P.div,{...L,className:"w-full h-full flex flex-col justify-center items-center",children:[(0,a.jsx)("div",{className:"max-w-3xl mx-auto relative w-full",children:(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("h2",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",children:["Real-time",(0,a.jsx)("br",{}),"Anonymous Chat"]}),(0,a.jsx)("p",{className:"text-gray-600 text-lg my-8",children:"Connect with students anonymously and securely."})]})}),(0,a.jsx)("div",{className:"max-w-md mx-auto text-sm space-y-6 text-center",children:(0,a.jsx)("div",{className:"text-red-700 bg-red-50 p-4 rounded-2xl border border-red-200 font-medium",children:(0,a.jsx)("p",{children:"This is a test version of AnimoChat. Not all features are implemented, and you may encounter bugs."})})}),(0,a.jsx)("div",{className:"text-center mt-12",children:(0,a.jsx)(i.$,{onClick:F,size:"lg",className:"rounded-full py-7 px-8 bg-green-600 hover:bg-green-700 text-white font-bold text-lg",children:"Get Started"})})]},"intro")}})()})}),"chat"!==o&&(0,a.jsxs)("footer",{className:"text-xs text-gray-500 text-center py-4 shrink-0",children:[(0,a.jsxs)("h3",{className:"py-4",children:["Created by developers from"," ",(0,a.jsx)("span",{className:"text-green-700 font-semibold",children:"De La Salle Lipa"})]}),t&&(0,a.jsxs)("p",{className:"font-mono text-gray-400 text-[10px] mt-2",children:["Your User ID: ",t]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(b(),{href:"/status",passHref:!0,children:(0,a.jsxs)(i.$,{variant:"ghost",className:"text-xs text-gray-500 hover:bg-gray-100 hover:text-gray-700",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Service Status"]})})})]})]})})}let S=e=>{let{className:t=""}=e;return(0,a.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})},E=e=>{let{size:t=24,className:s=""}=e;return(0,a.jsxs)("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},F=e=>{let{size:t=32,className:s=""}=e;return(0,a.jsxs)("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1"}),(0,a.jsx)("line",{x1:"12",y1:"7",x2:"12",y2:"13"}),(0,a.jsx)("line",{x1:"9",y1:"10",x2:"15",y2:"10"})]})},A=()=>(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_=e=>{let{isOpen:t,onClose:s,onSubmit:n}=e,[l,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[x,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),g=(0,r.useRef)(null);if((0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),(0,r.useEffect)(()=>{if(t){var e;null==(e=g.current)||e.focus(),o(""),d(!1),u(null),h(!1)}},[t]),!t)return null;let f=async e=>{if(e.preventDefault(),!l.trim())return void u("Feedback cannot be empty.");d(!0),u(null);try{await n(l),h(!0),setTimeout(()=>{s()},2e3)}catch(e){u("Failed to submit feedback. Please try again."),console.error(e)}finally{d(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog",children:(0,a.jsxs)("div",{ref:g,tabIndex:-1,className:"bg-white rounded-2xl shadow-2xl w-full max-w-md m-4 p-8 relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close dialog",children:(0,a.jsx)(E,{size:24})}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:(0,a.jsx)(F,{className:"text-green-600",size:32})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Got a suggestion?"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"We'd love to hear your ideas for new features or improvements."})]}),m?(0,a.jsx)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsx)("p",{className:"font-semibold text-green-700",children:"Thank you! Your feedback has been submitted."})}):(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"feedback-content",className:"sr-only",children:"Your suggestion"}),(0,a.jsx)("textarea",{id:"feedback-content",value:l,onChange:e=>o(e.target.value),placeholder:"Type your suggestion here...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",required:!0})]}),x&&(0,a.jsx)("p",{className:"text-red-600 text-sm text-center",children:x}),(0,a.jsxs)(i.$,{type:"submit",disabled:c,className:"w-full rounded-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold text-base disabled:bg-gray-400 disabled:cursor-wait flex items-center justify-center transition-colors",children:[c&&(0,a.jsx)(A,{}),c?"Submitting...":"Submit Feedback"]})]})]})})},z=()=>{let[e,t]=(0,r.useState)(!1),s=async e=>{console.log("Submitting feedback:",e),await new Promise(e=>setTimeout(e,1e3))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n        @keyframes gentle-wrench-turn {\n          0%, 100% { transform: rotate(-8deg); }\n          50% { transform: rotate(8deg); }\n        }\n        .animate-wrench {\n          animation: gentle-wrench-turn 3s ease-in-out infinite;\n        }\n\n        @keyframes progress-bar-shine {\n          0% { transform: translateX(-100%) skewX(-30deg); }\n          100% { transform: translateX(350%) skewX(-30deg); }\n        }\n        .progress-shine::after {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 33%;\n          height: 100%;\n          background: rgba(255, 255, 255, 0.4);\n          animation: progress-bar-shine 2.5s infinite linear;\n        }\n      "}),(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen flex flex-col items-center justify-center text-center p-4 font-sans overflow-hidden",children:[(0,a.jsxs)("div",{className:"max-w-md w-full bg-white p-8 sm:p-10 rounded-2xl shadow-xl border border-gray-200",children:[(0,a.jsx)("div",{className:"mx-auto bg-green-100 p-4 rounded-full w-20 h-20 flex items-center justify-center mb-6 animate-wrench",children:(0,a.jsx)(S,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Under Maintenance"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:"We'll be back up soon!"}),(0,a.jsx)("p",{className:"text-md text-gray-500 mb-8",children:"We're just polishing things up to make your experience even better."}),(0,a.jsx)("div",{className:"w-full bg-green-200 rounded-full h-4 mb-8 overflow-hidden relative",children:(0,a.jsx)("div",{className:"bg-green-500 h-4 rounded-full w-3/4 progress-shine"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>t(!0),className:"w-full px-8 py-3 bg-green-600 text-white font-semibold rounded-full hover:bg-green-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Leave Feedback"}),(0,a.jsx)(b(),{href:"/status",className:"w-full",children:(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full text-gray-500 hover:text-green-600",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Check Service Status"]})})]})]}),(0,a.jsx)("p",{className:"mt-8 text-sm text-gray-400",children:"Patience is a virtue, and so is great software!"})]}),(0,a.jsx)(_,{isOpen:e,onClose:()=>t(!1),onSubmit:s})]})};var P=s(4570);let T=()=>{let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(y.Y,"/maintenance"));if(503===e.status)t(!0);else if(e.ok){let s=await e.json();"MAINTENANCE"===s.state?t(!0):t(!1)}else throw Error("Failed to fetch status: ".concat(e.statusText))}catch(s){console.error("Failed to check maintenance status:",s);let e=s instanceof Error?s.message:"An unknown error occurred.";l("Could not connect to the service. Please try again later. (".concat(e,")")),t(!0)}finally{a(!1)}})()},[]),{isMaintenanceMode:e,isLoading:s,error:n}};var L=s(6297);function M(){let e=(0,L.A)(),{isMaintenanceMode:t,isLoading:s,error:n}=T(),{chatSessionData:l,chatSessionStatus:i}=function(e){let[t,s]=(0,r.useState)("loading"),[a,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e||0===e.length)return;let t=async()=>{let t="".concat(y.Y,"/session/").concat(e);try{let e=await fetch(t);if(!e.ok)return void s("no_session");let{chatId:a,serverUrl:r,participants:l}=await e.json();if(!a||!r){console.log("No existing session found."),s("no_session");return}n({chatId:a,chatServerUrl:r}),s("existing_session")}catch(e){console.error("Error fetching existing session:",e),s("no_session")}};return s("loading"),t(),()=>{}},[e]),{chatSessionStatus:t,chatSessionData:a}}(e);return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"Checking service status..."})}):t?(0,a.jsx)(z,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(P.h,{children:(0,a.jsx)(C,{userId:e,chatSessionData:l,chatSessionStatus:i})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[817,304,243,752,441,684,358],()=>t(6379)),_N_E=e.O()}]);